!function(){"use strict";function e(e,a){function i(i,o,d){function t(){var e=o.find("div").children().children()[0];i.player=new YT.Player(e,{height:r,width:s,videoId:i.videoUrl,playerVars:{autoplay:c},events:{onReady:n,onStateChange:l}})}function n(){i.videoLoaded=!0,i.$apply()}function l(e){e.data===YT.PlayerState.PLAYING?(i.videoPlaying=!0,i.hidePoster=!0,i.$emit("video.playing",YT)):e.data===YT.PlayerState.ENDED?(i.videoPlaying=!1,i.hidePoster=!1,i.$emit("video.ended",YT)):e.data===YT.PlayerState.UNSTARTED&&i.videoPlaying?(i.videoPlaying=!1,i.hidePoster=!1,i.$emit("video.ended",YT)):e.data===YT.PlayerState.PAUSED&&i.$emit("video.paused",YT),i.$apply()}console.log("module loaded"),i.player=null;var r=390,s=640,c=i.autoplay||0;i.videoLoaded=!1,i.videoPlaying=!1,i.hidePoster=!1,i.youtube=e,i.playVideo=function(){i.hidePoster=!0,a(function(){i.player.playVideo(),i.$apply()},600)},i.$watch(function(){return i.youtube.ready},function(e,a){e!==a&&t()})}var o={link:i,restrict:"E",transclude:!0,scope:{videoUrl:"@src",autoplay:"@autoplay",posterframe:"@posterframe",loadingMessage:"@loadingMessage",additionalClass:"@additionalClass"},template:'<div class="video-player__root"><div class="video-player"><div class="video-container"></div><div class="video-poster"  ng-class="{ \'video-poster--active\': !hidePoster }"  ng-if="!videoPlaying"><img ng-src="{{ posterframe }}" alt="" class="video-player__poster-frame" /><div class="video-poster__clickable-layer" ng-click="playVideo()"  ng-if="videoLoaded"><i class="icon  icon-play  video-poster__playbtn"></i></div><div ng-if="!videoLoaded" class="video-player__loading-panel"><span class="heading-gamma">{{ loadingMessage }}</span></div></div></div><div class="video-overlay" ng-class="{ \'video-overlay--active  {{additionalClass}}\': !hidePoster }" ng-transclude ></div></div>'};return o}function a(e,a){var i={},o=document.createElement("script"),d=document.getElementsByTagName("script")[0];return o.src="https://www.youtube.com/iframe_api",d.parentNode.insertBefore(o,d),i.ready=!1,e.onYouTubeIframeAPIReady=function(){a.$apply(function(){i.ready=!0})},i}angular.module("angular-youtube",[]).directive("videoPlayer",e).service("YouTubeService",a),e.$inject=["YouTubeService","$timeout"],a.$inject=["$window","$rootScope"]}();